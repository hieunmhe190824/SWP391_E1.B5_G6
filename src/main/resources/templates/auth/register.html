<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/auth-layout :: auth-layout('Đăng ký - Car Rental System', ~{::authForm})}">

<div th:fragment="authForm">
    <div class="form-icon">
        <div class="icon-holder">
            <img th:src="@{/images/icon1.svg}" alt="Register Icon">
        </div>
    </div>

    <h3 class="form-title-center">Đăng ký tài khoản khách hàng</h3>

    <div th:if="${error}">
        <div th:replace="~{fragments/components/messages :: error(${error})}"></div>
    </div>

    <form id="registrationForm" th:action="@{/auth/register}" method="post" th:object="${user}">
        <input type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"/>

        <div th:replace="~{fragments/components/forms :: input-text('Họ và tên', 'fullName', *{fullName}, true, 'Nhập họ và tên')}"></div>
        <div th:replace="~{fragments/components/forms :: input-email('Email', 'email', *{email}, true, 'Nhập email')}"></div>
        <div th:replace="~{fragments/components/forms :: input-text('Số điện thoại', 'phone', *{phone}, true, 'Nhập số điện thoại')}"></div>
        <div th:replace="~{fragments/components/forms :: input-password('Mật khẩu', 'password', true, 'Nhập mật khẩu')}"></div>

        <div class="form-group">
            <label for="confirmPassword">Xác nhận mật khẩu</label>
            <input type="password" id="confirmPassword" class="form-control" required>
        </div>

        <div class="form-button">
            <button th:replace="~{fragments/components/buttons :: btn-submit('Đăng ký')}"></button>
        </div>
    </form>

    <p class="text-center" style="margin-top: 1rem;">
        Đã có tài khoản?
        <a th:href="@{/auth/login}">Đăng nhập</a>
    </p>
</div>
</html>
